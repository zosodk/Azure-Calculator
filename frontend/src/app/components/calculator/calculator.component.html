<div class="calculator">

    <div class="display">
        <ng-container *ngIf="showHistory; else normalDisplay">
            <div class="history-list">
                <div *ngFor="let item of history">
                    {{ item.expression }} = {{ item.result }}
                </div>
            </div>
        </ng-container>

        <ng-template #normalDisplay>
            <div class="expression">{{ expression || '0' }}</div>
            <div class="result">{{ result !== null ? result : '' }}</div>
        </ng-template>
    </div>

    <!-- Top Buttons -->
    <div class="top-buttons">
        <button (click)="loadHistory()">ðŸ•’</button>
        <button (click)="toggleFullscreen()">â›¶</button>
        <button class="clear-button" (click)="backspace()">âŒ«</button>
    </div>

    <!-- Divider Line -->
    <div class="divider"></div>

    <!-- Calculator Buttons -->
    <div class="buttons">
        <button class="function" (click)="clear()">C</button>
        <button class="function" (click)="append('^')">xÊ¸</button>
        <button class="function" (click)="append('%')">%</button>
        <button class="operator" (click)="append('/')">Ã·</button>
       

        <button (click)="append('7')">7</button>
        <button (click)="append('8')">8</button>
        <button (click)="append('9')">9</button>
        <button class="operator" (click)="append('*')">Ã—</button>

        <button (click)="append('4')">4</button>
        <button (click)="append('5')">5</button>
        <button (click)="append('6')">6</button>
        <button class="operator" (click)="append('-')">âˆ’</button>

        <button (click)="append('1')">1</button>
        <button (click)="append('2')">2</button>
        <button (click)="append('3')">3</button>
        <button class="operator" (click)="append('+')">+</button>

        <button (click)="toggleSign()">Â±</button>
        <button (click)="append('0')">0</button>
        <button (click)="append(',')">,</button>
        <button class="equal" (click)="calculate()">=</button>
    </div>

</div>
